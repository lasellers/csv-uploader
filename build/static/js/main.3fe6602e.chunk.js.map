{"version":3,"sources":["serviceWorker.js","redux/reducers/csv.js","redux/reducers/index.js","redux/store.js","redux/actions.js","components/ErrorBox.js","pages/CsvUploadPage.js","pages/CsvColumnMappingPage.js","pages/RemappingPreviewPage.js","pages/ProcessPage.js","pages/ContactsPage.js","pages/CustomAttributesPage.js","pages/NotFoundPage.js","components/NavHeader.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","initialState","csv_headers","csv_data","unmapped_data","remapped_csv_data","remapped_order","columns","namedColumns","columnsWId","namedColumnsWId","combineReducers","csv","state","action","type","payload","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","addCsvHeaders","data","addCsvData","addUnmappedData","ErrorBox","error","className","toLocaleString","CsvUploadPage","props","onFileChange","event","a","preventDefault","files","target","length","text","csvToArray","header","store","dispatch","setState","selectedFile","rows","trim","split","shift","newRows","forEach","row","line","push","onFileUpload","goNext","uploadedFileData","headers","getState","join","name","lastModifiedDate","toDateString","bind","this","to","onChange","onClick","React","Component","CsvColumnMappingPage","onMappingChange","id","value","onMappingAccept","db_headers","remapCsvToContactsAndCustomAttributes","remappedData","unmappedData","remapped","contacts","newContacts","newCustomAttributes","contact","contact_id","newContact","Array","fill","order","index","includes","defaultRemappedOrder","index2","indexOf","keys","goBack","dropdownOrder","headersCsv","nav","map","column","key","csv_header","RemappingPreviewPage","col","ProcessPage","isLoaded","contact_inserts","custom_attribute_inserts","custom_attributes","fetch","API_URL","method","body","JSON","stringify","then","response","ok","Error","statusText","json","console","ContactsPage","getContacts","onContactDelete","res","result","team_id","phone","email","sticky_phone_number_id","created_at","updated_at","CustomAttributesPage","onCustomAttributeDelete","goHome","customAttributes","flatMap","customAttribute","NotFoundPage","NavHeader","useLocation","Navbar","expand","Nav","Link","as","pathname","process","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.3fe6602e.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n    csv_headers: [],\n    csv_data: [],\n    unmapped_data: [],\n    remapped_csv_data: [],\n    remapped_order: [],\n    // read only SSOA\n    columns: ['team_id', 'name', 'phone', 'email', 'sticky_phone_number_id', 'created_at', 'updated_at'],\n    namedColumns: ['Team Id', 'Name', 'Phone', 'Email', 'Sticky Phone Number Id', 'Created', 'Updated'],\n//    order: [0, 1, 2, 3, 4, 5, 6],\n    columnsWId: ['id', 'team_id', 'name', 'phone', 'email', 'sticky_phone_number_id', 'created_at', 'updated_at'],\n    namedColumnsWId: ['#', 'Team Id', 'Name', 'Phone', 'Email', 'Sticky Phone Number Id', 'Created', 'Updated'],\n};\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        case 'ADD_CSV_HEADERS': {\n            const {csv_headers} = action.payload;\n            return {\n                ...state,\n                csv_headers\n            };\n        }\n        case 'ADD_CSV_DATA': {\n            const {csv_data} = action.payload;\n            return {\n                ...state,\n                csv_data\n            };\n        }\n        case 'ADD_UNMAPPED_DATA': {\n            const {unmapped_data} = action.payload;\n            return {\n                ...state,\n                unmapped_data\n            };\n        }\n        case 'ADD_REMAPPED_CSV_DATA': {\n            const {remapped_csv_data} = action.payload;\n            return {\n                ...state,\n                remapped_csv_data\n            };\n        }\n        case 'ADD_REMAPPED_COLUMN_ORDER': {\n            const {remapped_order} = action.payload;\n            return {\n                ...state,\n                remapped_order\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from \"redux\";\n\nimport csv from \"./csv\";\n\nexport default combineReducers({ csv });\n","import {createStore} from \"redux\";\n\nimport rootReducer from \"./reducers/index\";\n\nexport default createStore(rootReducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","export const addCsvHeaders = data => ({\n    type: 'ADD_CSV_HEADERS',\n    payload: {\n        csv_headers: data\n    }\n});\n\nexport const addCsvData = data => ({\n    type: 'ADD_CSV_DATA',\n    payload: {\n        csv_data: data\n    }\n});\n\nexport const addUnmappedData = data => ({\n    type: 'ADD_UNMAPPED_DATA',\n    payload: {\n        unmapped_data: data\n    }\n});\n\nexport const addRemappedCsvData = data => ({\n    type: 'ADD_REMAPPED_CSV_DATA',\n    payload: {\n        remapped_csv_data: data\n    }\n});\n\nexport const addRemappedColumnOrder = data => ({\n    type: 'ADD_REMAPPED_COLUMN_ORDER',\n    payload: {\n        remapped_order: data\n    }\n});","import React from \"react\";\nimport './ErrorBox.css';\n\nfunction ErrorBox({error}) {\n    if (typeof error !== \"object\")\n        return (<>\n            <p></p>\n        </>);\n\n    return (\n        <>\n            <p className=\"alert-error\">{error.toLocaleString()}</p>\n        </>\n    )\n}\n\nexport default ErrorBox;\n","import React from 'react';\nimport store from \"../redux/store\";\nimport {Redirect} from \"react-router\";\nimport {addCsvHeaders} from \"../redux/actions\";\nimport {addCsvData} from \"../redux/actions\";\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass CsvUploadPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: \"\",\n            selectedFile: null,\n            header: null,\n            data: null,\n            goNext: false\n        };\n\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onFileUpload = this.onFileUpload.bind(this);\n    }\n\n    // Input type=\"file\" onChange, returns FileList on event target\n    // with .files with File object\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/FileList\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/File\n    onFileChange = async event => {\n        event.preventDefault();\n\n        const files = event.target.files;\n        if (files.length > 0) {\n            const csv = (await files[0].text());\n            const [header, data] = this.csvToArray(csv);\n\n            store.dispatch(addCsvHeaders(header));\n            store.dispatch(addCsvData(data));\n\n            // Update the state\n            this.setState({\n                selectedFile: files[0],\n                header: header,\n                data: data\n            });\n        }\n    };\n\n    csvToArray = (csv) => {\n        const rows = csv.trim().split(\"\\n\");\n        const header = rows.shift().trim().split(\",\");\n        let newRows = [];\n        rows.forEach(row => {\n            const line = row.trim();\n            if (line.length > 0) newRows.push(line.split(\",\"));\n        });\n        return [\n            header,\n            newRows\n        ];\n    };\n\n    // On file upload (click the upload button)\n    onFileUpload = async (event) => {\n        this.setState({goNext: true});\n    };\n\n    // File content to be displayed after\n    // file upload is complete\n    uploadedFileData = () => {\n        if (this.state.selectedFile) {\n            const headers = store.getState().csv.csv_headers.join(', ');\n            return (\n                <>\n                    <p><b>CSV File Details</b></p>\n                    <hr/>\n                    <p>File Name: {this.state.selectedFile.name}</p>\n                    <p>File Type: {this.state.selectedFile.type}</p>\n                    <p>Last Modified: {this.state.selectedFile.lastModifiedDate.toDateString()}</p>\n                    <p>Rows: {this.state.data.length}</p>\n                    <p>Headers: {headers}</p>\n                </>\n            );\n        } else {\n            return (\n                <>\n                    <br/>\n                    <h4>Choose File from local system before pressing the Upload button.</h4>\n                </>\n            );\n        }\n    };\n\n    render() {\n        const {error, goNext} = this.state;\n\n        if (goNext) {\n            return <Redirect to='/mapping'/>;\n        }\n\n        return (\n            <>\n                <h1>CSV File Upload</h1>\n\n                <div>\n                    <input className=\"btn btn-secondary mr-2\" type=\"file\" onChange={this.onFileChange}/>\n                    <button className=\"btn btn-primary ml-2\" onClick={this.onFileUpload}>\n                        Upload\n                    </button>\n                </div>\n\n                {this.uploadedFileData()}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default CsvUploadPage;\n","import React from 'react';\nimport store from \"../redux/store\";\nimport {Redirect} from \"react-router\";\nimport {addRemappedCsvData, addUnmappedData} from \"../redux/actions\";\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass CsvColumnMappingPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        // Normally the default order is 0,1,2,3,4,5,6,7 and the like as far the the dropdown goes.\n        const order = [...(store.getState().csv.columns).keys()];\n\n        const columns = store.getState().csv.columns;\n        const csv_headers = store.getState().csv.csv_headers;\n        const remapped_order = this.defaultRemappedOrder(columns, csv_headers, order);\n\n        this.state = {\n            error: \"\",\n            remapped_order: remapped_order,\n            goNext: false,\n            goBack: false,\n            dropdownOrder: order\n        };\n\n        this.onMappingChange = this.onMappingChange.bind(this);\n        this.onMappingAccept = this.onMappingAccept.bind(this);\n    }\n\n    onMappingChange = async (event) => {\n        const id = (event.target.id.split('-'))[1]; //event.target.selectedIndex;\n        const value = event.target.value;\n\n        const remapped_order = this.state.remapped_order;\n        remapped_order[id] = value;\n        await this.setState({remapped_order: remapped_order});\n    };\n\n    onMappingAccept = async event => {\n        const csv_headers = store.getState().csv.csv_headers;\n        const csv_data = store.getState().csv.csv_data;\n        const remapped_order = this.state.remapped_order;\n        const db_headers = store.getState().csv.columns;\n\n        const [remappedData, unmappedData] = this.remapCsvToContactsAndCustomAttributes(csv_data, remapped_order, csv_headers, db_headers);\n\n        store.dispatch(addRemappedCsvData(remappedData));\n        store.dispatch(addUnmappedData(unmappedData));\n\n        // Update the state\n        this.setState({\n            remapped: remappedData,\n            goNext: true\n        });\n    };\n\n    /**\n     *\n     * @param contacts\n     * @param remapped_order\n     * @param csv_headers\n     * @returns {[[], []]}\n     */\n    remapCsvToContactsAndCustomAttributes = (contacts, remapped_order, csv_headers, db_headers) => {\n        let newContacts = [];\n        let newCustomAttributes = [];\n\n        contacts.forEach(function (contact, contact_id) {\n            let newContact = new Array(db_headers.length).fill(\"\");\n\n            remapped_order.forEach(function (order, index) {\n                if (remapped_order[index] >=0) {\n                    newContact[index] = contact[remapped_order[index]];\n                }\n            });\n\n            csv_headers.forEach(function (value, index) {\n                if (!remapped_order.includes(index)) {\n                    newCustomAttributes.push([contact_id, csv_headers[index], value]);\n                }\n            });\n\n            newContacts.push(newContact);\n        });\n        return [newContacts, newCustomAttributes];\n    };\n\n    /**\n     * This tried to guess the remap order by comparing the csv header columns against the db standard order.\n     * i.e., if they are the same order then mapping stays: 0,1,2,3,4,5,6.\n     * If the headers are reversed then this comes out: 6,5,4,3,2,1,0\n     */\n    defaultRemappedOrder = (columns, csv_headers, order) => {\n        let remapped_order = new Array(columns.length).fill(-1);\n\n        columns.forEach((header, index) => {\n            const index2 = csv_headers.indexOf(header);\n            if (index2 >= 0) {\n                remapped_order[index] = index2;\n            }\n        });\n        return remapped_order;\n    };\n\n    render() {\n        const {error, goNext, goBack} = this.state;\n\n        if (goNext) {\n            return <Redirect to='/preview'/>;\n        }\n        if (goBack) {\n            return <Redirect to='/upload'/>;\n        }\n\n        const namedColumns = store.getState().csv.namedColumns;\n        const csv_headers = store.getState().csv.csv_headers;\n        const csv_data = store.getState().csv.csv_data;\n        const headersCsv = store.getState().csv.csv_headers.join(', ');\n\n        const nav = (\n            <>\n                <div>\n                    <button className=\"btn btn-secondary mr-2\" onClick={() => this.setState({goBack: true})}>Back\n                    </button>\n                    <button className=\"btn btn-primary ml-2\" onClick={this.onMappingAccept}>Next</button>\n                </div>\n            </>\n        );\n\n        if (csv_data.length === 0) {\n            return (\n                <>\n                    <h1>Remapping</h1>\n                    <p>No data.</p>\n                    {nav}\n                </>\n            )\n        }\n\n        return (\n            <>\n                <h1>Remapping</h1>\n\n                <p><b>CSV File Details</b></p>\n                <hr/>\n                <p>Headers: {headersCsv}</p>\n\n                <table className=\"table table-striped\">\n                    <thead>\n                    <tr>\n                        <th>Column</th>\n                        <th>Remap from</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {namedColumns.map((column, index) => (\n                        <tr key={index}>\n                            <td>\n                                {column}\n                            </td>\n                            <td>\n                                <select id={\"select-\" + index} value={this.state.remapped_order[index]}\n                                        onChange={this.onMappingChange}>\n                                    <option key={-1} value=\"\"> (None)</option>\n                                    {csv_headers.map((csv_header, index2) => (\n                                        <option id={index + '.' + index2} key={index2}\n                                                value={index2}>{csv_header} (Ex: {csv_data[0][index2]})</option>\n                                    ))}\n                                </select>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n\n                {nav}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default CsvColumnMappingPage;\n","import React from 'react';\nimport store from \"../redux/store\";\nimport {Redirect} from \"react-router\";\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass RemappingPreviewPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: \"\",\n            goNext: false,\n            goBack: false\n        };\n    }\n\n    render() {\n        const {error, goNext, goBack} = this.state;\n\n        const columns = store.getState().csv.namedColumns;\n        const data = store.getState().csv.remapped_csv_data;\n\n        if (goNext) {\n            return <Redirect to='/process'/>;\n        }\n        if (goBack) {\n            return <Redirect to='/mapping'/>;\n        }\n\n        const nav = (\n            <>\n                <div>\n                    <button className=\"btn btn-secondary mr-2\" onClick={() => this.setState({goBack: true})}>Back\n                    </button>\n                    <button className=\"btn btn-primary ml-2\" onClick={() => this.setState({goNext: true})}>Next</button>\n                </div>\n            </>\n        );\n\n        return (\n            <>\n                <h1>Preview</h1>\n\n                <table className=\"table table-striped\">\n                    <thead>\n                    <tr>\n                        {columns.map((column, index) => (\n                            <th key={index}>{column}</th>\n                        ))}\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {data.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((col, index2) => (\n                                <td key={index + \".\" + index2}>{col}</td>\n                            ))}\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n\n                {nav}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default RemappingPreviewPage;\n","import React from 'react';\nimport {API_URL} from \"../App\";\nimport store from \"../redux/store\";\nimport {Redirect} from \"react-router\";\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass ProcessPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: \"\",\n            goBack: false,\n            goNext: false,\n            isLoaded: false,\n            data: {\n                contact_inserts: 0,\n                custom_attribute_inserts: 0,\n                contacts: [],\n                custom_attributes: []\n            }\n        };\n    }\n\n    componentDidMount() {\n        const contacts = store.getState().csv.remapped_csv_data;\n        const custom_attributes = store.getState().csv.unmapped_data;\n\n        fetch(API_URL + \"/csv/save\", {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({contacts, custom_attributes})\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response.json();\n            })\n            .then((data) => {\n                    this.setState({\n                        isLoaded: true,\n                        data\n                    });\n                },\n                (error) => {\n                    this.setState({\n                        error,\n                        isLoaded: true,\n                        data: []\n                    });\n                    console.error(error);\n                }\n            )\n    }\n\n    render() {\n        const {error, goNext, goBack, isLoaded} = this.state;\n        const data = this.state.data;\n\n        if (goNext) {\n            return <Redirect to='/contacts'/>;\n        }\n        if (goBack) {\n            return <Redirect to='/mapping'/>;\n        }\n\n        const nav = (\n            <>\n                <div>\n                    <button className=\"btn btn-secondary mr-2\" onClick={() => this.setState({goBack: true})}>Back\n                    </button>\n                    <button className=\"btn btn-primary ml-2\" onClick={() => this.setState({goNext: true})}>Next\n                    </button>\n                </div>\n            </>\n        );\n\n        if (!isLoaded)\n            return (\n                <>\n                    <h1>Process</h1>\n                    <p>Processing....</p>\n                </>\n            );\n\n        return (\n            <>\n                <h1>Process</h1>\n                <p>CSV records have been added to database.</p>\n\n                <hr/>\n\n                <p>Contact inserts: {data.contact_inserts}</p>\n                <p>Contacts rows: {data.contacts?.length}</p>\n\n                <br />\n\n                <p>Custom Attribute inserts: {data.custom_attribute_inserts}</p>\n                <p>Custom Attributes data rows: {data.custom_attributes?.length}</p>\n\n                {nav}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default ProcessPage;\n","import React from 'react';\nimport {API_URL} from \"../App\";\nimport {Redirect} from \"react-router\";\nimport {BsFillTrashFill} from 'react-icons/bs';\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass ContactsPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: \"\",\n            goBack: false,\n            goNext: false,\n            contacts: []\n        };\n    }\n\n    componentDidMount() {\n        this.getContacts();\n    }\n\n    getContacts = () => {\n        fetch(API_URL + \"/contacts\")\n            .then(response => {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response.json();\n            })\n            .then((contacts) => {\n                    this.setState({\n                        isLoaded: true,\n                        contacts\n                    });\n                },\n                (error) => {\n                    console.error(error);\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    };\n\n    onContactDelete = async (id) => {\n        fetch(API_URL + \"/contacts/\" + id, {method: \"DELETE\"})\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.getContacts();\n                },\n                (error) => {\n                    console.error(error);\n                    this.setState({\n                        error\n                    });\n                }\n            );\n    };\n\n    render() {\n        const {error, isLoaded, contacts, goBack, goNext} = this.state;\n\n        if (goBack) {\n            return <Redirect to='/process'/>;\n        }\n        if (goNext) {\n            return <Redirect to='/custom-attributes'/>;\n        }\n\n        const nav = (\n            <>\n                <div>\n                    <button className=\"btn btn-secondary mr-2\" onClick={() => this.setState({goBack: true})}>Back\n                    </button>\n                    <button className=\"btn btn-primary ml-2\" onClick={() => this.setState({goNext: true})}>Next</button>\n                </div>\n            </>\n        );\n\n        if (!isLoaded)\n            return (\n                <>\n                    <h1>Contacts</h1>\n                    <p>None.</p>\n                </>\n            );\n\n        return (\n            <>\n                <h1>Contacts</h1>\n\n                <table className=\"table table-striped\">\n                    <thead>\n                    <tr>\n                        <th>id</th>\n                        <th>Team</th>\n                        <th>Name</th>\n                        <th>Phone</th>\n                        <th>Email</th>\n                        <th>Sticky Phone</th>\n                        <th>Created</th>\n                        <th>Updated</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {contacts.map(contact => (\n                        <tr key={contact.id}>\n                            <td>{contact.id}</td>\n                            <td>{contact.team_id}</td>\n                            <td>{contact.name}</td>\n                            <td>{contact.phone}</td>\n                            <td>{contact.email}</td>\n                            <td>{contact.sticky_phone_number_id}</td>\n                            <td>{contact.created_at}</td>\n                            <td>{contact.updated_at}</td>\n                            <td>\n                                <button className=\"btn\" onClick={() => this.onContactDelete(contact.id)}><BsFillTrashFill/></button>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n\n                {nav}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default ContactsPage;\n","import React from 'react';\nimport {API_URL} from \"../App\";\nimport {Redirect} from \"react-router\";\nimport {BsFillTrashFill} from 'react-icons/bs';\nimport ErrorBox from \"../components/ErrorBox\";\n\nclass CustomAttributesPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: \"\",\n            goBack: false,\n            goHome: false,\n            contacts: [\n                {custom_attributes: []}\n            ]\n        };\n    }\n\n    componentDidMount() {\n        this.getContacts();\n    }\n\n    getContacts = () => {\n        fetch(API_URL + \"/contacts\")\n            .then(response => {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response.json();\n            })\n            .then((contacts) => {\n                    this.setState({\n                        isLoaded: true,\n                        contacts\n                    });\n                },\n                (error) => {\n                    console.error(error);\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    };\n\n    onCustomAttributeDelete = async (id) => {\n        fetch(API_URL + \"/custom-attributes/\" + id, {method: \"DELETE\"})\n            .then(res => res.json())\n            .then((result) => {\n                    this.getContacts();\n                },\n                (error) => {\n                    console.error(error);\n                    this.setState({\n                        error\n                    });\n                }\n            );\n    };\n\n    render() {\n        const {error, isLoaded, contacts, goBack, goHome} = this.state;\n        const customAttributes = contacts.flatMap(row => {\n            return row.custom_attributes;\n        });\n\n        if (goBack) {\n            return <Redirect to='/contacts'/>;\n        }\n        if (goHome) {\n            return <Redirect to='/upload'/>;\n        }\n\n        const nav = (\n            <>\n                <div>\n                    <button className=\"btn btn-secondary mr-2\" onClick={() => this.setState({goBack: true})}>Back</button>\n                    <button className=\"btn btn-primary ml-2\" onClick={() => this.setState({goHome: true})}>Home</button>\n                </div>\n           </>\n        );\n\n        if (!isLoaded)\n            return (\n                <>\n                    <h1>Custom Attributes</h1>\n                    <p>None.</p>\n                </>\n            );\n\n        return (\n            <>\n                <h1>Custom Attributes</h1>\n\n                <table className=\"table table-striped\">\n                    <thead>\n                    <tr>\n                        <th>id</th>\n                        <th>Contact Id</th>\n                        <th>Key</th>\n                        <th>Value</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        {customAttributes.map(customAttribute => (\n                        <tr key={customAttribute.contact_id + '.' + customAttribute.id}>\n                            <td>{customAttribute.id}</td>\n                            <td>{customAttribute.contact_id}</td>\n                            <td>{customAttribute.key}</td>\n                            <td>{customAttribute.value}</td>\n                            <td>\n                                <button className=\"btn\" onClick={() => this.onCustomAttributeDelete(customAttribute.id)}><BsFillTrashFill/></button>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n\n                {nav}\n\n                <ErrorBox error={error}/>\n            </>\n        );\n    }\n}\n\nexport default CustomAttributesPage;\n","import React from 'react';\n\nconst NotFoundPage = () => (\n    <h1>404: Page Not Found</h1>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nimport './NavHeader.css';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport {useLocation} from 'react-router-dom';\n\nfunction NavHeader(props) {\n    let location = useLocation();\n    return (\n        <>\n            <header id=\"App-header\">\n                <Navbar expand=\"lg\">\n                    <Nav className=\"ml-auto\">\n                        <h1>CSV Uploader</h1>\n                    </Nav>\n                    <Nav className=\"mr-auto\">\n                        <ul className=\"steps-inline\">\n                            <Nav.Link as={Link} to=\"/upload\">\n                                <div\n                                    className={['', '/', '/upload'].includes(location.pathname) ? 'btn btn-step active' : 'btn btn-step'}>1\n                                </div>\n                            </Nav.Link>\n                            <Nav.Link as={Link} to=\"/mapping\">\n                                <div\n                                    className={location.pathname === '/mapping' ? 'btn btn-step active' : 'btn btn-step'}>2\n                                </div>\n                            </Nav.Link>\n                            <Nav.Link as={Link} to=\"/preview\">\n                                <div\n                                    className={location.pathname === '/preview' ? 'btn btn-step active' : 'btn btn-step'}>4\n                                </div>\n                            </Nav.Link>\n                            <Nav.Link as={Link} to=\"/process\">\n                                <div\n                                    className={location.pathname === '/process' ? 'btn btn-step active' : 'btn btn-step'}>5\n                                </div>\n                            </Nav.Link>\n                            <Nav.Link as={Link} to=\"/contacts\">\n                                <div\n                                    className={location.pathname === '/contacts' ? 'btn btn-step active' : 'btn btn-step'}>6\n                                </div>\n                            </Nav.Link>\n                            <Nav.Link as={Link} to=\"/custom-attributes\">\n                                <div\n                                    className={location.pathname === '/custom-attributes' ? 'btn btn-step active' : 'btn btn-step'}>7\n                                </div>\n                            </Nav.Link>\n                        </ul>\n                    </Nav>\n                </Navbar>\n            </header>\n        </>\n    )\n}\n\nexport default NavHeader;\n","import React from 'react';\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './App.css';\n\nimport CsvUploadPage from \"./pages/CsvUploadPage\";\nimport CsvColumnMappingPage from \"./pages/CsvColumnMappingPage\";\nimport RemappingPreviewPage from \"./pages/RemappingPreviewPage\";\nimport ProcessPage from \"./pages/ProcessPage\";\nimport ContactsPage from \"./pages/ContactsPage\";\nimport CustomAttributesPage from \"./pages/CustomAttributesPage\";\nimport NotFoundPage from \"./pages/NotFoundPage\";\n\nimport NavHeader from \"./components/NavHeader\";\n\nexport const API_URL = process.env.REACT_APP_API_URL;\n\nfunction App(props) {\n    return (\n        <BrowserRouter>\n            <NavHeader/>\n            <main className=\"App\">\n                <div id=\"App-body\">\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <Switch>\n                                    <Route path=\"/\" component={CsvUploadPage} exact/>\n                                    <Route path=\"/upload\" component={CsvUploadPage}/>\n                                    <Route path=\"/mapping\" component={CsvColumnMappingPage} exact/>\n                                    <Route path=\"/preview\" component={RemappingPreviewPage} exact/>\n                                    <Route path=\"/process\" component={ProcessPage} exact/>\n                                    <Route path=\"/contacts\" component={ContactsPage} exact/>\n                                    <Route path=\"/custom-attributes\" component={CustomAttributesPage} exact/>\n                                    <Route path=\"/not-found\" component={NotFoundPage} exact/>\n                                    <Route component={NotFoundPage}/>\n                                </Switch>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        </BrowserRouter>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\nimport './index.css';\nimport App from './App';\n\n// store.subscribe( () => console.log('store', store.getState()));\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}